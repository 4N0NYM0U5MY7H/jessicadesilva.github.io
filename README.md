## Overview
This Flask application displays Dr. Jessica De Silva's personal website using a [JAMstack](https://jamstack.org/) architecture. [Frozen-Flask](https://pythonhosted.org/Frozen-Flask/) is used to generate static files based on the Flask application's routes. After that, the static files are hosted on [GitHub Pages](https://pages.github.com/). [HTML5 UP](https://html5up.net/) created the original website design. 

## Website
[https://jessicadesilva.github.io/](https://jessicadesilva.github.io/)

## Installation instructions
Clone the source code from this GitHub repository
<!-- update this if PR to original is accepted -->
```sh
git clone https://github.com/4N0NYM0U5MY7H/jessicadesilva.github.io.git
```
Change directory to the project root
```sh
cd jessicadesilva.github.io
```
### Using virtualenv
Create a virtual environment and install the required packages
```sh
python -m venv venv
```
Activate the virtual environment
```sh
source venv/bin/activate
```
Install the Python pakages in requirements.txt
```sh
pip install -r requirements.txt
```
### Using pipenv
Create a virtual environment and install the required packages
```sh
pipenv install
```
Activate the virtual environment
```sh
pipenv shell
```

## Run the Development Server
Run development server to serve the Flask application
```sh
python app.py
```
Navigate to `http://127.0.0.1:5000/` in your browser to view the website!

## Unit Testing
To run all the tests
```sh
python -m pytest
```
Check the code coverage of the test
```sh
python -m pytest --cov-report term-missing --cov=website
```

## Adding a new page
1. Copy the `website/general/templates/starter_page.j2` file to the appropriate directory. For example, if you want to add a new research page, copy the file to `website/research/templates/`.
   ```sh
   # Copy the starter_page.j2 file to the research/templates directory as new_page.j2
   cp website/general/templates/starter_page.j2 website/research/templates/new_page.j2
   ```
2. Update the `new_page.j2` file with the appropriate content.
   ```jinja
    {% extends "layout/base.j2" %}
    {% block title %}
    {# Add page title here #}
    New Page
    {% endblock %}
    {% block main_content %}
    {# Add page content here #}
    New Page Content
    {% endblock %}
   ```
3. Add a new route to the appropriate `research.py` file. For example, if you want to add a new research page, add a new route to `website/research/research.py`.
   ```python
    # Adds the application endpoint research/new_page.html
    # NOTE: Frozen-Flask requires the .html extension to work correctly 
    @research_blueprint.route('/new_page.html')
    def new_page():
        return render_template('new_page.j2')
   ```
4. Run the development server and navigate to the new page in your browser.
   ```sh
   python3 app.py
   ```
   Navigate to `http://127.0.0.1:5000/research/new_page.html` in your browser to view the new page!

### Build the Static Files
Run the build script from the root directory
```sh
python3 build.py
```
The static files will be generated in the `website/build` directory.

## Workflow
<details>
<summary>Click to expand</summary>

The diagram below depicts a typical workflow for creating a static site with Flask and publishing it to GitHub Pages.

![Flask GitHub Pages static content workflow](.github/images/flask_ghpages_static_content_workflow.png)
</details>

## Project Structure
<details>
<summary>Click to expand</summary>

The folder structure for the project is typical for a Flask project.
```
├── website
│   ├── build           # Frozen-Flask generated static files
│   ├── events          # Controls events related content
│   │   └── templates
│   ├── general         # Controls general content
│   │   └── templates   # Includes the base template
│   ├── groups          # Controls mentor-groups related content
│   │   └── templates
│   ├── research        # Controls research related content
│   │   └── templates
│   ├── static          # Static files and assets
│   │   ├── css
│   │   ├── js
│   │   └── image    
├── tests               # Unit tests
│   └── functional
└── venv
```
The important directory to note is `website/build`, which contains the static website files generated by the Frozen-Flask package.
</details>

## Jinja Templates
<details>
<summary>Click to expand</summary>

Flask includes the [Jinja](https://flask.palletsprojects.com/en/2.2.x/templating/) templating engine, which is used to generate HTML files.

Variables and/or expressions in a template file are replaced with values when the template is rendered.

![Jinja template proccessing.](.github/images/jinja_template_processing.png)

Template inheritance allows template files to inherit templates from other files. You can create a base template that defines the website's layout. Because child templates will use this layout, they can concentrate solely on the content.

This project's base template is found at `website/templates/layout/base.j2`.
</details>

## Built with
- [![Python](https://img.shields.io/badge/Python-v3.10-3776AB?style=flat-square&logo=Python&labelColor=141414)](https://www.python.org/downloads/release/python-3109/)
- [![Flask](https://img.shields.io/badge/Flask-v3.0-000?style=flat-square&logo=flask&labelColor=141414)](https://pypi.org/project/Flask/3.0/)
- [![Frozen-Flask](https://img.shields.io/badge/Frozen--Flask-v1.0.1-3776AB?style=flat-square&logo=Python&labelColor=141414)](https://pypi.org/project/Frozen-Flask/)
- [![Markdown](https://img.shields.io/badge/Markdown-v3.5.1-000?style=flat-square&logo=markdown&labelColor=141414)](https://pypi.org/project/Markdown/)
- [![flake8](https://img.shields.io/badge/flake8-v6.1.0-3776AB?style=flat-square&logo=Python&labelColor=141414)](https://pypi.org/project/flake8/)
- [![HTML5 Up](https://img.shields.io/badge/HTML5%20Up-Website%20Template-E34F26?style=flat-square&logo=HTML5&labelColor=141414)](https://html5up.net/editorial)

## License
This project is licensed under the Creative Commons Attribution 3.0 License - see the [LICENSE](LICENSE.txt) file for details.